<mat-card class="main-card">
  <mat-card-header>
    <mat-card-title>Event-Anmeldung</mat-card-title>
    <mat-card-subtitle>Demonstration von Angular-Konzepten</mat-card-subtitle>
  </mat-card-header>

  <mat-card-content class="card-content">

    <mat-form-field appearance="fill">
      <mat-label>Dein Name</mat-label>
      <input matInput [(ngModel)]="userName">
    </mat-form-field>
    <p>Hallo, {{ userName }}!</p>
    <hr>

    <h3>Wähle ein Event-Thema:</h3>
    <mat-form-field appearance="fill">
      <mat-label>Thema</mat-label>
      <mat-select [(ngModel)]="selectedTopic">
        @for (topic of eventTopics; track topic.value) {
          <mat-option [value]="topic.value">{{ topic.viewValue }}</mat-option>
        }
      </mat-select>
    </mat-form-field>
    <hr>

    <h3>Extras</h3>
    <mat-slide-toggle [(ngModel)]="wantsGoodieBag">
      Ich möchte einen Goodie-Bag
    </mat-slide-toggle>

    @if (wantsGoodieBag) {
      <p class="info-text">Super! Wir legen einen für dich zurück.</p>
    }
    <hr>

    <h3>Deine Erfahrungsstufe</h3>
    <mat-radio-group [(ngModel)]="experienceLevel">
      <mat-radio-button value="beginner">Anfänger</mat-radio-button>
      <mat-radio-button value="advanced">Fortgeschritten</mat-radio-button>
      <mat-radio-button value="expert">Experte</mat-radio-button>
    </mat-radio-group>

    <div class="info-text">
      @switch (experienceLevel) {
        @case ('beginner') {
          <p>Willkommen! Wir freuen uns, dass du hier bist.</p>
        }
        @case ('advanced') {
          <p>Toll, du wirst hier viel Neues lernen.</p>
        }
        @case ('expert') {
          <p>Fantastisch! Wir schätzen deinen Input.</p>
        }
        @default {
          <p>Bitte wähle eine Stufe.</p>
        }
      }
    </div>
    <hr>

  </mat-card-content>

  <mat-card-actions>
    <button mat-raised-button color="primary" (click)="onSubmit()">Anmeldung abschicken</button>
  </mat-card-actions>

  <mat-card-footer class="card-footer">
    <p
      [ngClass]="{ 'submitted': isSubmitted, 'pending': !isSubmitted }"
      [ngStyle]="dynamicStyle">
      {{ submitMessage }}
    </p>
  </mat-card-footer>

</mat-card>